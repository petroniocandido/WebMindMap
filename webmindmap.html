<html>
<head>
</head>
<body>
	<style type="text/css" media="screen">
	 .colorpicker {
	   float: left;
	   margin: 1em;
	 }
	 form {
	   margin: 2em 1em 0 1;
	   text-align: center;
	 }
	 body {
	   font-family: "Lucida Grande", "Lucida Unicode", "Lucida Sans", sans-serif;
	 }
	 p {
	   clear: both;
	 }
	</style>
	<div id="xy">MOUSE XY</div>
	<canvas id="myCanvas" width="878" height="300"></canvas>
	<br />
	<div class="colorpicker">
  <div id="colorpicker"></div>
  <form><input type="text" id="color" /></form>
</div>
	Conteúdo: <input id="content" type="textbox" />
	<script src="jquery-1.4.3.js"></script>
	<script type="text/javascript" charset="utf-8" src="farbtastic/src/farbtastic.js"></script>
	<script src="webmindmap.js"></script>
    <script type="text/javascript" >
		//var xMindMap = new xMindMap();
		
		
		$(document).ready(function() {
				var pai = new Node();
				pai.setX(250).setY(200).setContent('Pai - Nó raiz').setFillColor('blue');
				xMindMap.setRootNode(pai);
				xMindMap.Show();
				
				//$('#myCanvas').mousemove(evt);
				$('#myCanvas').click(xMindMap.OnMouseClick).dblclick(xMindMap.OnMouseDblClick).mousedown(xMindMap.OnMouseDown);
				$(document).keydown(xMindMap.OnKeyPressed);
				$('#content').change(function(){xMindMap.getSelectedNode().setContent($('#content').val()); xMindMap.Show();});
				//$('#color').change(function(){xMindMap.selected.setFillColor($('#color').val()); xMindMap.Show();});
				
				$('#colorpicker').farbtastic(function(color){
					if(xMindMap.getSelectedNode() != null){
						xMindMap.getSelectedNode().setFillColor(color); 
						xMindMap.Show();
					}
				});
				
				xMindMap.setOnChangeNode(function() { $('#content').val(xMindMap.getSelectedNode().content); });
  
			});
	</script>
</body>
</html>